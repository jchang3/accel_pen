//============================================================================
// Name        : dtw_algorithm_test.cpp
// Author      : Group 2 adapted from http://bytefish.de/blog/dynamic_time_warping/
// Project     : ECE492 - Group 2 accelerometer pen
// Description : DTW testing package
//============================================================================

#include <vector>
#include <iostream>
#include "dtw.h"
#include <time.h>
#include <fstream>
#include <string>
#include <sstream>
#include <cstdint>
using namespace std;

int main() {
    vector<int32_t> t1;
    vector<int32_t> t2;

//    for(int i=0; i<400; i++){
//    	t1.push_back((int32_t(i)));
//    	t2.push_back((int32_t(i+1)));
//    }

   string line;
   ifstream file1 ("200hz.txt");
   if(file1.is_open()){
	   while(getline(file1,line)){
		   istringstream linestream(line);
		   string data;
		   int32_t val;
		   while(linestream >> val){
		       t1.push_back(val);
		       t2.push_back((int32_t)0.0);
		   }

	   }
	   file1.close();
   }
   else{
	   cout << "error opening file";
   }

    clock_t t;

    t = clock();

    //dtw output
    cout<< "dist_dtw = " << DTW::dtw(t1, t2) << endl;

    //runtime
    t = clock() - t;
    float time = ((float)t)/CLOCKS_PER_SEC;
    cout<< "runtime = " <<time <<"s " <<t <<"clockticks " <<endl;

	return 0;
}
